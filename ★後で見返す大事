# ğŸ”„ Git Revert & Rebase å®Œå…¨ãƒã‚¹ã‚¿ãƒ¼ã‚¬ã‚¤ãƒ‰

## ğŸ“š ç›®æ¬¡
1. [åŸºç¤çŸ¥è­˜: Revert vs Rebase vs Reset](#åŸºç¤çŸ¥è­˜)
2. [Revert: å®‰å…¨ãªå–ã‚Šæ¶ˆã—æ–¹æ³•](#revertç·¨)
3. [Rebase: å±¥æ­´ã‚’ç¾ã—ãæ•´ãˆã‚‹](#rebaseç·¨)
4. [å®Ÿè·µã‚·ãƒŠãƒªã‚ªåˆ¥å¯¾å¿œ](#å®Ÿè·µã‚·ãƒŠãƒªã‚ª)
5. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
6. [å®Œå…¨ã‚³ãƒãƒ³ãƒ‰ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ](#ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ)

---

## ğŸ¯ åŸºç¤çŸ¥è­˜: Revert vs Rebase vs Reset {#åŸºç¤çŸ¥è­˜}

### MECEåˆ†é¡: 3ã¤ã®ã€Œå–ã‚Šæ¶ˆã—ã€ç³»ã‚³ãƒãƒ³ãƒ‰

```mermaid
graph LR
    A[å–ã‚Šæ¶ˆã—ç³»ã‚³ãƒãƒ³ãƒ‰] --> B[Reset<br/>æ­´å²æ”¹å¤‰]
    A --> C[Revert<br/>å–ã‚Šæ¶ˆã—ã‚³ãƒŸãƒƒãƒˆä½œæˆ]
    A --> D[Rebase<br/>å±¥æ­´æ•´ç†]
    
    B --> B1[å±é™º<br/>ãƒªãƒ¢ãƒ¼ãƒˆã« push æ¸ˆã¿ã¯ NG]
    C --> C1[å®‰å…¨<br/>ã„ã¤ã§ã‚‚ OK]
    D --> D1[è¦æ³¨æ„<br/>ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿æ¨å¥¨]
```

### æ¯”è¼ƒè¡¨

| ã‚³ãƒãƒ³ãƒ‰ | å±é™ºåº¦ | ç”¨é€” | ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿ã«ä½¿ãˆã‚‹? | å±¥æ­´ |
|---------|-------|------|---------------------|------|
| **Reset** | ğŸ”´ é«˜ | ãƒ­ãƒ¼ã‚«ãƒ«ã®å–ã‚Šæ¶ˆã— | âŒ NG | æ¶ˆãˆã‚‹ |
| **Revert** | ğŸŸ¢ ä½ | å®‰å…¨ãªå–ã‚Šæ¶ˆã— | âœ… OK | æ®‹ã‚‹ |
| **Rebase** | ğŸŸ¡ ä¸­ | å±¥æ­´ã®æ•´ç† | âš ï¸ è¦æ³¨æ„ | æ›¸ãæ›ã‚ã‚‹ |

### ä½¿ã„åˆ†ã‘ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

```
ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿?
  â”œâ”€ YES â†’ Revert ã‚’ä½¿ã† (å®‰å…¨)
  â””â”€ NO
       â”œâ”€ å±¥æ­´ã‚’ã‚­ãƒ¬ã‚¤ã«ã—ãŸã„? 
       â”‚   â”œâ”€ YES â†’ Rebase ã‚’ä½¿ã†
       â”‚   â””â”€ NO â†’ Reset ã‚’ä½¿ã†
       â””â”€ ãƒãƒ¼ãƒ ä½œæ¥­ä¸­?
           â”œâ”€ YES â†’ Revert ã‚’ä½¿ã† (å®‰å…¨)
           â””â”€ NO â†’ Reset ã‚’ä½¿ã† (é€Ÿã„)
```

---

## ğŸ”™ Revertç·¨: å®‰å…¨ãªå–ã‚Šæ¶ˆã—æ–¹æ³• {#revertç·¨}

### ğŸ“– Revertã¨ã¯?

> **Revert = å–ã‚Šæ¶ˆã—ã‚³ãƒŸãƒƒãƒˆã‚’æ–°ãŸã«ä½œæˆã™ã‚‹**
> - å…ƒã®ã‚³ãƒŸãƒƒãƒˆã¯æ®‹ã‚‹
> - ã€Œã‚ã®ã‚³ãƒŸãƒƒãƒˆã‚’æ‰“ã¡æ¶ˆã™ã€ã¨ã„ã†æ–°ã—ã„ã‚³ãƒŸãƒƒãƒˆã‚’è¿½åŠ 
> - æœ€ã‚‚å®‰å…¨ãªæ–¹æ³•

### è¦–è¦šçš„ã‚¤ãƒ¡ãƒ¼ã‚¸

```
Before:
  A --- B --- C --- D (ãƒã‚°ã‚ã‚Š)
                    â†‘ HEAD

Revertå¾Œ:
  A --- B --- C --- D --- D' (Dã‚’æ‰“ã¡æ¶ˆã™ã‚³ãƒŸãƒƒãƒˆ)
                          â†‘ HEAD
  
â€» D ã¯ãã®ã¾ã¾æ®‹ã‚‹
â€» D' ã¯ã€ŒDã®å¤‰æ›´ã‚’å–ã‚Šæ¶ˆã™ã€å†…å®¹
```

---

## ğŸ”° Revert: åŸºæœ¬æ“ä½œ

### ã‚¹ãƒ†ãƒƒãƒ—1: ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª

```bash
$ git log --oneline

abc1234 (HEAD -> main) æ©Ÿèƒ½Dã‚’è¿½åŠ  â† ã“ã®ã‚³ãƒŸãƒƒãƒˆã‚’å–ã‚Šæ¶ˆã—ãŸã„!
def5678 æ©Ÿèƒ½Cã‚’è¿½åŠ 
ghi9012 æ©Ÿèƒ½Bã‚’è¿½åŠ 
jkl3456 æ©Ÿèƒ½Aã‚’è¿½åŠ 
```

**ğŸ“– èª­ã¿æ–¹:**
- `git log` = ã‚®ãƒƒãƒˆãƒ»ãƒ­ã‚° (å±¥æ­´è¡¨ç¤º)
- `--oneline` = ãƒ¯ãƒ³ãƒ©ã‚¤ãƒ³ (1è¡Œãšã¤è¡¨ç¤º)
- `abc1234` = ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ (ã‚³ãƒŸãƒƒãƒˆã®ID)
- `(HEAD -> main)` = ç¾åœ¨mainãƒ–ãƒ©ãƒ³ãƒã®ã“ã“ã«ã„ã‚‹

**ğŸ’¡ è¦‹ã‚‹ã¹ããƒã‚¤ãƒ³ãƒˆ:**
- å–ã‚Šæ¶ˆã—ãŸã„ã‚³ãƒŸãƒƒãƒˆã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ãƒ¡ãƒ¢ â†’ `abc1234`

---

### ã‚¹ãƒ†ãƒƒãƒ—2: Revertã‚’å®Ÿè¡Œ

```bash
$ git revert abc1234
```

**ğŸ“– èª­ã¿æ–¹:**
- `git revert` = ã‚®ãƒƒãƒˆãƒ»ãƒªãƒãƒ¼ãƒˆ (å–ã‚Šæ¶ˆã—)
- `abc1234` = å–ã‚Šæ¶ˆã—ãŸã„ã‚³ãƒŸãƒƒãƒˆã®ãƒãƒƒã‚·ãƒ¥

**ğŸ’» å®Ÿè¡Œã™ã‚‹ã¨...**

```bash
$ git revert abc1234

[ã‚¨ãƒ‡ã‚£ã‚¿ãŒé–‹ã]
Revert "æ©Ÿèƒ½Dã‚’è¿½åŠ "

This reverts commit abc1234567890abcdef1234567890abcdef12345.

# Please enter the commit message for your changes...
```

**ğŸ¯ ã‚„ã‚‹ã“ã¨:**
1. ã‚¨ãƒ‡ã‚£ã‚¿ãŒè‡ªå‹•ã§é–‹ã
2. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§OKãªã‚‰**ä¿å­˜ã—ã¦é–‰ã˜ã‚‹**
   - Vim: `:wq` + Enter
   - Nano: Ctrl+O â†’ Enter â†’ Ctrl+X
3. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ç·¨é›†ã—ã¦ã‹ã‚‰ä¿å­˜

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
[main 9f8e7d6] Revert "æ©Ÿèƒ½Dã‚’è¿½åŠ "
 1 file changed, 5 deletions(-)
```

**ğŸ“Š çµæœã®æ„å‘³:**
- `[main 9f8e7d6]` = mainãƒ–ãƒ©ãƒ³ãƒã«æ–°ã—ã„ã‚³ãƒŸãƒƒãƒˆ9f8e7d6ãŒä½œæˆã•ã‚ŒãŸ
- `1 file changed` = 1ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›´ã•ã‚ŒãŸ
- `5 deletions(-)` = 5è¡Œå‰Šé™¤ã•ã‚ŒãŸ (æ©Ÿèƒ½Dã®è¿½åŠ åˆ†ãŒå‰Šé™¤ã•ã‚ŒãŸ)

---

### ã‚¹ãƒ†ãƒƒãƒ—3: çµæœã‚’ç¢ºèª

```bash
$ git log --oneline

9f8e7d6 (HEAD -> main) Revert "æ©Ÿèƒ½Dã‚’è¿½åŠ " â† NEW!
abc1234 æ©Ÿèƒ½Dã‚’è¿½åŠ  â† æ®‹ã£ã¦ã‚‹!
def5678 æ©Ÿèƒ½Cã‚’è¿½åŠ 
ghi9012 æ©Ÿèƒ½Bã‚’è¿½åŠ 
jkl3456 æ©Ÿèƒ½Aã‚’è¿½åŠ 
```

**âœ… æ­£å¸¸ã®è¨¼æ‹ :**
- æ–°ã—ã„"Revert"ã‚³ãƒŸãƒƒãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- å…ƒã®ã‚³ãƒŸãƒƒãƒˆ`abc1234`ã‚‚æ®‹ã£ã¦ã„ã‚‹
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç„¡ã„

```bash
$ git status

On branch main
Your branch is ahead of 'origin/main' by 1 commit.
  (use "git push" to publish your local commits)

nothing to commit, working tree clean
```

**ğŸ“– èª­ã¿æ–¹:**
- `ahead of 'origin/main' by 1 commit` = ãƒªãƒ¢ãƒ¼ãƒˆã‚ˆã‚Š1ã‚³ãƒŸãƒƒãƒˆé€²ã‚“ã§ã„ã‚‹
- `nothing to commit` = ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã‚¯ãƒªãƒ¼ãƒ³
- **æ¬¡ã«ã‚„ã‚‹ã“ã¨:** `git push` ã§ãƒªãƒ¢ãƒ¼ãƒˆã«åæ˜ 

---

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥

```bash
$ git push origin main
```

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 456 bytes | 456.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
To github.com:company/project.git
   abc1234..9f8e7d6  main -> main
```

**ğŸ“Š æˆåŠŸã®è¨¼æ‹ :**
- `done.` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- `abc1234..9f8e7d6` = ã‚³ãƒŸãƒƒãƒˆç¯„å›²ãŒæ›´æ–°ã•ã‚ŒãŸ
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç„¡ã„

---

## ğŸ“ Revert: å¿œç”¨ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### ã‚±ãƒ¼ã‚¹1: è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’å–ã‚Šæ¶ˆã™

```bash
# æœ€æ–°ã®3ã¤ã®ã‚³ãƒŸãƒƒãƒˆã‚’å–ã‚Šæ¶ˆã™
$ git revert HEAD~2..HEAD

# ã¾ãŸã¯1ã¤ãšã¤
$ git revert abc1234
$ git revert def5678
$ git revert ghi9012
```

**ğŸ“– èª­ã¿æ–¹:**
- `HEAD~2..HEAD` = 2ã¤å‰ã‹ã‚‰ç¾åœ¨ã¾ã§
- `HEAD~2` = HEADã®2ã¤å‰ (HEAD, HEAD~1, HEAD~2 ã®3ã¤)

---

### ã‚±ãƒ¼ã‚¹2: ã‚³ãƒŸãƒƒãƒˆã›ãšã«Revertã™ã‚‹

```bash
$ git revert abc1234 --no-commit
```

**ğŸ“– èª­ã¿æ–¹:**
- `--no-commit` = ãƒãƒ¼ãƒ»ã‚³ãƒŸãƒƒãƒˆ (ã‚³ãƒŸãƒƒãƒˆã—ãªã„)

**ğŸ’¡ ä½¿ã„é“:**
- è¤‡æ•°ã®Revertã‚’ã¾ã¨ã‚ã¦1ã¤ã®ã‚³ãƒŸãƒƒãƒˆã«ã—ãŸã„æ™‚
- å¤‰æ›´å†…å®¹ã‚’ç¢ºèªã—ã¦ã‹ã‚‰æ‰‹å‹•ã§ã‚³ãƒŸãƒƒãƒˆã—ãŸã„æ™‚

**å®Ÿè¡Œçµæœ:**

```bash
$ git revert abc1234 --no-commit

$ git status

On branch main
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   login.py
```

**æ¬¡ã«ã‚„ã‚‹ã“ã¨:**

```bash
# ç¢ºèªã—ã¦OKãªã‚‰
$ git commit -m "æ©Ÿèƒ½Dã¨Eã‚’å–ã‚Šæ¶ˆã—"
```

---

### ã‚±ãƒ¼ã‚¹3: Revertã‚’å–ã‚Šæ¶ˆã™ (Revert ã® Revert)

```bash
# Revertã‚³ãƒŸãƒƒãƒˆã®ãƒãƒƒã‚·ãƒ¥ã‚’ç¢ºèª
$ git log --oneline
9f8e7d6 Revert "æ©Ÿèƒ½Dã‚’è¿½åŠ " â† ã“ã‚Œã‚’å–ã‚Šæ¶ˆã—ãŸã„

# Revertã®Revert
$ git revert 9f8e7d6
```

**ğŸ’¡ çµæœ:**
- æ©Ÿèƒ½DãŒå†ã³å¾©æ´»ã™ã‚‹
- "Revert 'Revert "æ©Ÿèƒ½Dã‚’è¿½åŠ "'" ã¨ã„ã†æ–°ã—ã„ã‚³ãƒŸãƒƒãƒˆãŒä½œæˆã•ã‚Œã‚‹

---

## ğŸ”§ Rebaseç·¨: å±¥æ­´ã‚’ç¾ã—ãæ•´ãˆã‚‹ {#rebaseç·¨}

### ğŸ“– Rebaseã¨ã¯?

> **Rebase = ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’æ›¸ãæ›ãˆã¦æ•´ç†ã™ã‚‹**
> - ã‚³ãƒŸãƒƒãƒˆã®é †åºã‚’å¤‰ãˆã‚‹
> - è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’ã¾ã¨ã‚ã‚‹
> - ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹
> - **âš ï¸ å±¥æ­´ãŒå¤‰ã‚ã‚‹ã®ã§è¦æ³¨æ„!**

### è¦–è¦šçš„ã‚¤ãƒ¡ãƒ¼ã‚¸

```
Before Rebase:
  A --- B --- C (main)
         \
          D --- E --- F (feature)

After Rebase:
  A --- B --- C (main)
                 \
                  D' --- E' --- F' (feature)
  
â€» D, E, F ãŒ D', E', F' ã«æ›¸ãæ›ã‚ã‚‹
â€» ãƒãƒƒã‚·ãƒ¥å€¤ãŒå¤‰ã‚ã‚‹
```

---

## ğŸ”° Rebase: åŸºæœ¬æ“ä½œ (mainã«è¿½ã„ã¤ã)

### ã‚·ãƒŠãƒªã‚ª: ä½œæ¥­ä¸­ã«mainãŒé€²ã‚“ã§ã—ã¾ã£ãŸ

```
è‡ªåˆ†ã®ä½œæ¥­:
  A --- B --- C (main)
         \
          D --- E (feature/my-work) â† ä½œæ¥­ä¸­

ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒmainã«ãƒãƒ¼ã‚¸:
  A --- B --- C --- F --- G (main) â† é€²ã‚“ã§ã„ã‚‹!
         \
          D --- E (feature/my-work)
```

**ğŸ˜± å•é¡Œ:**
- è‡ªåˆ†ã®ãƒ–ãƒ©ãƒ³ãƒãŒmainã‹ã‚‰é›¢ã‚Œã¦ã„ã‚‹
- ã“ã®ã¾ã¾ãƒãƒ¼ã‚¸ã™ã‚‹ã¨è¤‡é›‘ã«ãªã‚‹

**âœ¨ è§£æ±ºç­–: Rebaseã§mainã«è¿½ã„ã¤ã!**

---

### ã‚¹ãƒ†ãƒƒãƒ—1: æœ€æ–°ã®mainã‚’å–å¾—

```bash
$ git checkout main
```

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
Switched to branch 'main'
Your branch is up to date with 'origin/main'.
```

```bash
$ git pull origin main
```

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
From github.com:company/project
 * branch            main       -> FETCH_HEAD
Updating abc1234..ghi9012
Fast-forward
 app.py | 10 ++++++++++
 1 file changed, 10 insertions(+)
```

**ğŸ“– èª­ã¿æ–¹:**
- `Fast-forward` = é«˜é€Ÿãƒãƒ¼ã‚¸æˆåŠŸ
- `app.py | 10 ++++++++++` = app.pyã«10è¡Œè¿½åŠ 

---

### ã‚¹ãƒ†ãƒƒãƒ—2: è‡ªåˆ†ã®ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆ

```bash
$ git checkout feature/my-work
```

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
Switched to branch 'feature/my-work'
```

```bash
$ git log --oneline --graph --all

* ghi9012 (main) ãƒãƒ¼ãƒ ã®å¤‰æ›´G
* fgh8901 ãƒãƒ¼ãƒ ã®å¤‰æ›´F
| * e4d5c6b (HEAD -> feature/my-work) è‡ªåˆ†ã®ä½œæ¥­E
| * d3c4b5a è‡ªåˆ†ã®ä½œæ¥­D
|/
* abc1234 å…±é€šã®ç¥–å…ˆC
```

**ğŸ“– ã‚°ãƒ©ãƒ•ã®è¦‹æ–¹:**
- `*` = ã‚³ãƒŸãƒƒãƒˆ
- `|` = ãƒ–ãƒ©ãƒ³ãƒã®ç·š
- `|/` = åˆ†å²ç‚¹

---

### ã‚¹ãƒ†ãƒƒãƒ—3: Rebaseã‚’å®Ÿè¡Œ

```bash
$ git rebase main
```

**ğŸ“– èª­ã¿æ–¹:**
- `git rebase main` = mainãƒ–ãƒ©ãƒ³ãƒã®æœ€æ–°ã«è‡ªåˆ†ã®ã‚³ãƒŸãƒƒãƒˆã‚’ä¹—ã›ç›´ã™

**ğŸ’» æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
Successfully rebased and updated refs/heads/feature/my-work.
```

**âœ… æˆåŠŸã®è¨¼æ‹ :**
- `Successfully rebased` = ãƒªãƒ™ãƒ¼ã‚¹æˆåŠŸ
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç„¡ã„

**ğŸ“Š çµæœç¢ºèª:**

```bash
$ git log --oneline --graph --all

* z9y8x7w (HEAD -> feature/my-work) è‡ªåˆ†ã®ä½œæ¥­E
* y8x7w6v è‡ªåˆ†ã®ä½œæ¥­D
* ghi9012 (main) ãƒãƒ¼ãƒ ã®å¤‰æ›´G
* fgh8901 ãƒãƒ¼ãƒ ã®å¤‰æ›´F
* abc1234 å…±é€šã®ç¥–å…ˆC
```

**ğŸ‰ çµæœ:**
- è‡ªåˆ†ã®ã‚³ãƒŸãƒƒãƒˆ(D, E)ãŒmainã®æœ€æ–°(G)ã®ä¸Šã«ç§»å‹•ã—ãŸ!
- ä¸€ç›´ç·šã®å±¥æ­´ã«ãªã£ãŸ!
- ãƒãƒƒã‚·ãƒ¥å€¤ãŒå¤‰ã‚ã£ãŸ (`e4d5c6b` â†’ `z9y8x7w`)

---

## âš ï¸ Rebaseä¸­ã«ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒèµ·ããŸã‚‰

### ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆç™ºç”Ÿæ™‚ã®è¡¨ç¤º

```bash
$ git rebase main

Applying: è‡ªåˆ†ã®ä½œæ¥­D
Using index info to reconstruct a base tree...
M       app.py
Falling back to patching base and 3-way merge...
Auto-merging app.py
CONFLICT (content): Merge conflict in app.py
error: Failed to merge in the changes.
hint: Use 'git am --show-current-patch' to see the failed patch
Resolve all conflicts manually, mark them as resolved with
"git add/rm <conflicted_files>", then run "git rebase --continue".
You can instead skip this commit: run "git rebase --skip".
To abort and get back to the state before "git rebase", run "git rebase --abort".
Could not apply d3c4b5a... è‡ªåˆ†ã®ä½œæ¥­D
```

**âŒ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®è¨¼æ‹ :**
- `CONFLICT (content)` = å†…å®¹ã®è¡çª
- `Failed to merge` = ãƒãƒ¼ã‚¸å¤±æ•—
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¦ã„ã‚‹

---

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’ç¢ºèª

```bash
$ git status

interactive rebase in progress; onto ghi9012
Last command done (1 command done):
   pick d3c4b5a è‡ªåˆ†ã®ä½œæ¥­D
Next command to do (1 remaining command):
   pick e4d5c6b è‡ªåˆ†ã®ä½œæ¥­E
  (use "git rebase --edit-todo" to view and edit)
You are currently rebasing branch 'feature/my-work' on 'ghi9012'.
  (fix conflicts and run "git rebase --continue")
  (use "git rebase --skip" to skip this patch)
  (use "git rebase --abort" to check out the original branch)

Unmerged paths:
  (use "git restore --staged <file>..." to unstage)
  (use "git add <file>..." to mark resolution)
        both modified:   app.py

no changes added to commit (use "git add" and/or "git commit -a")
```

**ğŸ“– èª­ã¿æ–¹:**
- `interactive rebase in progress` = ãƒªãƒ™ãƒ¼ã‚¹å®Ÿè¡Œä¸­
- `both modified: app.py` = ä¸¡æ–¹ãŒå¤‰æ›´ã—ãŸ = è¡çª

---

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ä¿®æ­£

```bash
$ code app.py
```

**ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«:**

```python
def login():
<<<<<<< HEAD
    # ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã®å¤‰æ›´
    return authenticate_user_v2()
=======
    # è‡ªåˆ†ã®å¤‰æ›´
    return validate_and_login()
>>>>>>> è‡ªåˆ†ã®ä½œæ¥­D
```

**ğŸ“– è¨˜å·ã®æ„å‘³:**
- `<<<<<<< HEAD` = mainã®å†…å®¹(ç›¸æ‰‹ã®å¤‰æ›´)
- `=======` = åŒºåˆ‡ã‚Šç·š
- `>>>>>>> è‡ªåˆ†ã®ä½œæ¥­D` = è‡ªåˆ†ã®å¤‰æ›´

**âœï¸ ä¿®æ­£æ–¹æ³•:**
1. `<<<<<<<`, `=======`, `>>>>>>>` ã‚’å…¨ã¦å‰Šé™¤
2. æ­£ã—ã„ã‚³ãƒ¼ãƒ‰ã ã‘æ®‹ã™

**ä¿®æ­£å¾Œ:**

```python
def login():
    # ä¸¡æ–¹ã‚’çµ±åˆ
    user = authenticate_user_v2()
    return validate_and_login(user)
```

---

### ã‚¹ãƒ†ãƒƒãƒ—3: ä¿®æ­£ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°

```bash
$ git add app.py
```

**ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„ = æˆåŠŸ**

```bash
$ git status

interactive rebase in progress; onto ghi9012
Last command done (1 command done):
   pick d3c4b5a è‡ªåˆ†ã®ä½œæ¥­D
Next command to do (1 remaining command):
   pick e4d5c6b è‡ªåˆ†ã®ä½œæ¥­E
You are currently rebasing branch 'feature/my-work' on 'ghi9012'.
  (all conflicts fixed: run "git rebase --continue")

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   app.py
```

**âœ… ä¿®æ­£å®Œäº†ã®è¨¼æ‹ :**
- `all conflicts fixed` = å…¨ã¦ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒä¿®æ­£ã•ã‚ŒãŸ
- `Changes to be committed` = ã‚³ãƒŸãƒƒãƒˆæº–å‚™å®Œäº†

---

### ã‚¹ãƒ†ãƒƒãƒ—4: Rebaseã‚’ç¶šè¡Œ

```bash
$ git rebase --continue
```

**ğŸ“– èª­ã¿æ–¹:**
- `--continue` = ç¶šè¡Œ (ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºå¾Œã€ãƒªãƒ™ãƒ¼ã‚¹ã‚’ç¶šã‘ã‚‹)

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
[detached HEAD a1b2c3d] è‡ªåˆ†ã®ä½œæ¥­D
 1 file changed, 3 insertions(+), 1 deletion(-)
Successfully rebased and updated refs/heads/feature/my-work.
```

**ğŸ‰ ãƒªãƒ™ãƒ¼ã‚¹å®Œäº†!**

---

### ã‚¹ãƒ†ãƒƒãƒ—5: (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) ä¸­æ­¢ã™ã‚‹å ´åˆ

```bash
# ãƒªãƒ™ãƒ¼ã‚¹ã‚’è«¦ã‚ã¦å…ƒã«æˆ»ã™
$ git rebase --abort
```

**ğŸ“– èª­ã¿æ–¹:**
- `--abort` = ä¸­æ­¢ (ãƒªãƒ™ãƒ¼ã‚¹é–‹å§‹å‰ã®çŠ¶æ…‹ã«æˆ»ã‚‹)

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
$ git rebase --abort
HEAD is now at e4d5c6b è‡ªåˆ†ã®ä½œæ¥­E
```

**ğŸ’¡ çµæœ:**
- ãƒªãƒ™ãƒ¼ã‚¹å‰ã®çŠ¶æ…‹ã«æˆ»ã‚‹
- å®‰å…¨ã«å…ƒã«æˆ»ã›ã‚‹

---

## ğŸ¨ Interactive Rebase: ã‚³ãƒŸãƒƒãƒˆã‚’æ•´ç†ã™ã‚‹

### ğŸ“– Interactive Rebaseã¨ã¯?

> **è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’ã¾ã¨ã‚ãŸã‚Šã€é †åºã‚’å¤‰ãˆãŸã‚Šã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸã‚Šã§ãã‚‹**

### ã‚ˆãã‚ã‚‹ä½¿ã„é“

1. **squash**: è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹
2. **reword**: ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿®æ­£
3. **edit**: ã‚³ãƒŸãƒƒãƒˆå†…å®¹ã‚’ä¿®æ­£
4. **drop**: ã‚³ãƒŸãƒƒãƒˆã‚’å‰Šé™¤

---

## ğŸ”° å®Ÿè·µ: ã‚³ãƒŸãƒƒãƒˆã‚’ã¾ã¨ã‚ã‚‹ (squash)

### ã‚·ãƒŠãƒªã‚ª: ç´°ã‹ã™ãã‚‹ã‚³ãƒŸãƒƒãƒˆã‚’æ•´ç†

```bash
$ git log --oneline

e5f6g7h typoä¿®æ­£
d4e5f6g ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›å‰Šé™¤
c3d4e5f æ©Ÿèƒ½å®Ÿè£…
b2c3d4e æ©Ÿèƒ½å®Ÿè£…(WIP)
a1b2c3d æ©Ÿèƒ½å®Ÿè£…é–‹å§‹
```

**ğŸ˜± å•é¡Œ:**
- ã‚³ãƒŸãƒƒãƒˆãŒç´°ã‹ã™ãã‚‹
- WIPã‚„typoä¿®æ­£ãªã©ãŒæ··ã–ã£ã¦ã„ã‚‹
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒè¦‹ã¥ã‚‰ã„

**âœ¨ è§£æ±ºç­–: Interactive Rebaseã§ã¾ã¨ã‚ã‚‹!**

---

### ã‚¹ãƒ†ãƒƒãƒ—1: Interactive Rebaseã‚’é–‹å§‹

```bash
$ git rebase -i HEAD~5
```

**ğŸ“– èª­ã¿æ–¹:**
- `-i` = ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ– (å¯¾è©±çš„ã«æ“ä½œ)
- `HEAD~5` = æœ€æ–°ã‹ã‚‰5ã¤å‰ã¾ã§

**ğŸ’» ã‚¨ãƒ‡ã‚£ã‚¿ãŒé–‹ã:**

```bash
pick a1b2c3d æ©Ÿèƒ½å®Ÿè£…é–‹å§‹
pick b2c3d4e æ©Ÿèƒ½å®Ÿè£…(WIP)
pick c3d4e5f æ©Ÿèƒ½å®Ÿè£…
pick d4e5f6g ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›å‰Šé™¤
pick e5f6g7h typoä¿®æ­£

# Rebase 9a8b7c6..e5f6g7h onto 9a8b7c6 (5 commands)
#
# Commands:
# p, pick <commit> = use commit
# r, reword <commit> = use commit, but edit the commit message
# e, edit <commit> = use commit, but stop for amending
# s, squash <commit> = use commit, but meld into previous commit
# f, fixup <commit> = like "squash", but discard this commit's log message
# x, exec <command> = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with 'git rebase --continue')
# d, drop <commit> = remove commit
# l, label <label> = label current HEAD with a name
# t, reset <label> = reset HEAD to a label
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
#
# These lines can be re-ordered; they are executed from top to bottom.
```

---

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚³ãƒãƒ³ãƒ‰ã‚’ç·¨é›†

**ä¿®æ­£å‰:**
```bash
pick a1b2c3d æ©Ÿèƒ½å®Ÿè£…é–‹å§‹
pick b2c3d4e æ©Ÿèƒ½å®Ÿè£…(WIP)
pick c3d4e5f æ©Ÿèƒ½å®Ÿè£…
pick d4e5f6g ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›å‰Šé™¤
pick e5f6g7h typoä¿®æ­£
```

**ä¿®æ­£å¾Œ:**
```bash
pick a1b2c3d æ©Ÿèƒ½å®Ÿè£…é–‹å§‹
squash b2c3d4e æ©Ÿèƒ½å®Ÿè£…(WIP)
squash c3d4e5f æ©Ÿèƒ½å®Ÿè£…
squash d4e5f6g ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›å‰Šé™¤
squash e5f6g7h typoä¿®æ­£
```

**ğŸ“– æ„å‘³:**
- æœ€åˆã®`pick`ã¯æ®‹ã™
- ãã‚Œä»¥é™ã‚’`squash`ã«å¤‰æ›´ = å‰ã®ã‚³ãƒŸãƒƒãƒˆã«ã¾ã¨ã‚ã‚‹

**ä¿å­˜ã—ã¦é–‰ã˜ã‚‹**
- Vim: `:wq` + Enter
- Nano: Ctrl+O â†’ Enter â†’ Ctrl+X

---

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç·¨é›†

**ã‚¨ãƒ‡ã‚£ã‚¿ãŒå†åº¦é–‹ã:**

```bash
# This is a combination of 5 commits.
# This is the 1st commit message:

æ©Ÿèƒ½å®Ÿè£…é–‹å§‹

# This is the commit message #2:

æ©Ÿèƒ½å®Ÿè£…(WIP)

# This is the commit message #3:

æ©Ÿèƒ½å®Ÿè£…

# This is the commit message #4:

ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›å‰Šé™¤

# This is the commit message #5:

typoä¿®æ­£

# Please enter the commit message for your changes...
```

**âœï¸ ç·¨é›†:**
- ä¸è¦ãªè¡Œã‚’å‰Šé™¤
- 1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¾ã¨ã‚ã‚‹

**ä¿®æ­£å¾Œ:**

```bash
ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’å®Ÿè£…

- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```

**ä¿å­˜ã—ã¦é–‰ã˜ã‚‹**

---

### ã‚¹ãƒ†ãƒƒãƒ—4: çµæœã‚’ç¢ºèª

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**

```bash
[detached HEAD 1a2b3c4] ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’å®Ÿè£…
 Date: Wed Oct 8 10:00:00 2025 +0900
 5 files changed, 150 insertions(+), 10 deletions(-)
Successfully rebased and updated refs/heads/feature/my-work.
```

```bash
$ git log --oneline

1a2b3c4 (HEAD -> feature/my-work) ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’å®Ÿè£…
9a8b7c6 å‰ã®ã‚³ãƒŸãƒƒãƒˆ
```

**ğŸ‰ 5ã¤ã®ã‚³ãƒŸãƒƒãƒˆãŒ1ã¤ã«ã¾ã¨ã¾ã£ãŸ!**

---

## ğŸ“Š å®Ÿè·µã‚·ãƒŠãƒªã‚ªåˆ¥å¯¾å¿œ {#å®Ÿè·µã‚·ãƒŠãƒªã‚ª}

### ã‚·ãƒŠãƒªã‚ª1: é–“é•ãˆã¦mainã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã—ã¾ã£ãŸ

**ğŸ˜± çŠ¶æ³:**
```bash
$ git log --oneline
abc1234 (HEAD -> main) æ©Ÿèƒ½è¿½åŠ  â† mainã«ç›´æ¥ã‚³ãƒŸãƒƒãƒˆã—ã¦ã—ã¾ã£ãŸ!
def5678 å‰ã®ã‚³ãƒŸãƒƒãƒˆ
```

**âœ… è§£æ±ºæ–¹æ³•:**

```bash
# Step 1: ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ(ä»Šã®HEADã®ä½ç½®ã§)
$ git branch feature/new-function

# Step 2: mainã‚’1ã¤å‰ã«æˆ»ã™
$ git reset --hard HEAD~1

# Step 3: æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆ
$ git checkout feature/new-function

# ç¢ºèª
$ git log --oneline
abc1234 (HEAD -> feature/new-function) æ©Ÿèƒ½è¿½åŠ 
def5678 (main) å‰ã®ã‚³ãƒŸãƒƒãƒˆ
```

**ğŸ“Š çµæœ:**
- ã‚³ãƒŸãƒƒãƒˆã¯`feature/new-function`ãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•
- `main`ã¯ã‚¯ãƒªãƒ¼ãƒ³

---

### ã‚·ãƒŠãƒªã‚ª2: ãƒ—ãƒƒã‚·ãƒ¥ã—ãŸã‚³ãƒŸãƒƒãƒˆã«ãƒã‚°ãŒã‚ã£ãŸ

**ğŸ˜± çŠ¶æ³:**
```bash
# æ—¢ã«ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿
$ git log --oneline
abc1234 (HEAD -> main, origin/main) ãƒã‚°ã®ã‚ã‚‹æ©Ÿèƒ½è¿½åŠ 
```

**âŒ ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨:**
```bash
# ã“ã‚Œã¯NG! (æ—¢ã«ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿)
$ git reset --hard HEAD~1
```

**âœ… æ­£ã—ã„è§£æ±ºæ–¹æ³•: Revert**

```bash
$ git revert abc1234

# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé–‹ã
[ã‚¨ãƒ‡ã‚£ã‚¿]
Revert "ãƒã‚°ã®ã‚ã‚‹æ©Ÿèƒ½è¿½åŠ "

ãƒã‚°ä¿®æ­£ã®ãŸã‚ä¸€æ™‚çš„ã«å–ã‚Šæ¶ˆã—

# ä¿å­˜ã—ã¦é–‰ã˜ã‚‹

# ãƒ—ãƒƒã‚·ãƒ¥
$ git push origin main
```

---

### ã‚·ãƒŠãƒªã‚ª3: ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é–“é•ãˆãŸ(ãƒ—ãƒƒã‚·ãƒ¥å‰)

**ğŸ˜± çŠ¶æ³:**
```bash
$ git log --oneline
abc1234 (HEAD -> feature/my-work) ã¦st â† ã‚¿ã‚¤ãƒ!
```

**âœ… è§£æ±ºæ–¹æ³•:**

```bash
$ git commit --amend
```

**ğŸ“– èª­ã¿æ–¹:**
- `--amend` = ä¿®æ­£ (ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã‚’ä¿®æ­£)

**ã‚¨ãƒ‡ã‚£ã‚¿ãŒé–‹ã:**
```bash
ã¦st

# Please enter the commit message...
```

**ä¿®æ­£:**
```bash
ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ 

# Please enter the commit message...
```

**ä¿å­˜ã—ã¦é–‰ã˜ã‚‹**

**âœ… æˆåŠŸæ™‚ã®è¡¨ç¤º:**
```bash
[feature/my-work 1b2c3d4] ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ 
 Date: Wed Oct 8 10:00:00 2025 +0900
 1 file changed, 10 insertions(+)
```

---

### ã‚·ãƒŠãƒªã‚ª4: ã‚³ãƒŸãƒƒãƒˆé †åºã‚’å…¥ã‚Œæ›¿ãˆãŸã„

**ğŸ˜± çŠ¶æ³:**
```bash
$ git log --oneline
ccc3333 æ©Ÿèƒ½C
bbb2222 æ©Ÿèƒ½B
aaa1111 æ©Ÿèƒ½A â† Aã¨Bã®é †åºã‚’å…¥ã‚Œæ›¿ãˆãŸã„
```

**âœ… è§£æ±ºæ–¹æ³•:**

```bash
$ git rebase -i HEAD~3
```

**ã‚¨ãƒ‡ã‚£ã‚¿:**
```bash
pick aaa1111 æ©Ÿèƒ½A
pick bbb2222 æ©Ÿèƒ½B
pick ccc3333 æ©Ÿèƒ½C
```

**ä¿®æ­£:**
```bash
pick bbb2222 æ©Ÿèƒ½B  â† é †åºã‚’å…¥ã‚Œæ›¿ãˆ
pick aaa1111 æ©Ÿèƒ½A  â† é †åºã‚’å…¥ã‚Œæ›¿ãˆ
pick ccc3333 æ©Ÿèƒ½C
```

**ä¿å­˜ã—ã¦é–‰ã˜ã‚‹**

**âœ… çµæœ:**
```bash
$ git log --oneline
ddd4444 æ©Ÿèƒ½C
eee5555 æ©Ÿèƒ½A
fff6666 æ©Ÿèƒ½B  â† é †åºãŒå¤‰ã‚ã£ãŸ!
```

---

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° {#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°}

### ã‚¨ãƒ©ãƒ¼1: "Cannot rebase: You have unstaged changes"

**âŒ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º:**
```bash
$ git rebase main

error: cannot rebase: You have unstaged changes.
error: Please commit or stash them.
```

**ğŸ“– æ„å‘³:**
- æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒ
